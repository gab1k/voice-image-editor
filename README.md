# Voice-Controlled Image Editor Bot

Телеграм-бот для редактирования изображений с помощью голосовых команд

## Описание проекта

**Тип проекта:** Индустриальный проект

**Команда:** 
 - Габидуллин Камиль
 - Лундина Светлана
 - Кучина Анастасия

**Модальности:** Аудио + Текст + Изображения

### Проблема
Пользователям нужно быстро редактировать изображения, но сложные графические редакторы требуют времени и навыков. Голосовое управление делает процесс простым и доступным.

### Решение
Телеграм-бот, который принимает изображение и голосовую команду, а возвращает отредактированное изображение.

### Пайплайн использования
- Пользователь:
   - Отправляет голосовое сообщение/mp3 файл
   - После отправляет изображение
- Бот:
   - После получения всей необходимой информации бот начинает работу
   - В результате бот присылает картинку/сообщает об ошибке

### Архитектура решения
Voice → ASR model → Text → Image-Editing model → Image → User

### Используемые модели
0. **Сбор датасета** - `Helsinki-NLP/opus-mt-en-ru`, `snakers4/silero-models, silero_tts`
   - Перевод текстовых инструкций
   - Синтетическая озвучка текстовых инструкций
 
2. **Speech-to-Text:** `ai-sage/GigaAM-v3`
   - Распознавание речи
   - Преобразование голосовых команд в текст

3. **Image Editing:** `тут моделька`
   - Редактирование изображений по текстовым инструкциям
     
4. **Evaluator:** `openai/gpt-4o`, `gemini-2.5-flash`
   - Оценка качества генерации
  
### Метрики
1) Оценка проводится в end-to-end формате:
голос → ASR → текст → редактирование → изображение.

- E2E Quality Score (0–10) - отражает качество всей системы для каждой пары (ASR × Image-Editing model).
- Oracle score - качество модели редактирования при использовании идеальной (GT) текстовой инструкции.
- ASR impact = oracle_score − e2e_score - показывает, насколько ошибки ASR ухудшают итоговое редактирование.
- Semantic WER — насколько распознанная команда сохраняет смысл оригинальной инструкции.
- Ground Truth - сравнение резульатат редактирования с таргетом 

## Установка и запуск

### Установка

```bash
# Клонирование репозитория
git clone https://github.com/gab1k/voice-image-editor.git
cd voice-image-editor

# Создание виртуального окружения
python -m venv venv
source venv/bin/activate

pip install -r requirements.txt
```

### Запуск бота

Вставьте ваш токен в main.py в переменную TELEGRAM_BOT_TOKEN

```bash
python -m src.bot.main
```
- Первый запуск занимает 3 минуты с хорошим интернетом
- Далее бот берет модели из кэша и поднимается за считанные секунды
- После боту можно писать

## Лицензии
Проект использует сторонние open-source модели, библиотеки и датасеты.
Условия лицензирования указаны в соответствующих репозиториях.

В проекте используются:
- ASR и TTS модели
- diffusion-модели для редактирования изображений
- датасеты с Hugging Face

Проект предназначен для учебных и исследовательских целей.
